<!DOCTYPE html>
<html lang="pt-br">
  <head>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PB9JZX4G');</script>
  <!-- End Google Tag Manager -->

    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Chatbot</title>

    <style>
      body,
      html {
        margin: 0;
        padding: 0;
        height: 100vh !important;
      }

      #web-messenger-container {
        bottom: 100px !important;
      }

      #web-messenger-container.mobile-open-web-messenger-container {
        bottom: 0 !important;
        max-height: 100vh;
      }

      @media screen and (min-width: 660px) {
        #web-messenger-container,
        #web-messenger-container.mobile-open-web-messenger-container {
          bottom: 100px !important;
          height: calc(100vh - 100px) !important;
        }
      }
    </style>
    <script>
      !(function (o, d, s, e, f) {
        var i,
          a,
          p,
          c = [],
          h = [];
        function t() {
          var t = "5";
          try {
            if (!f) 
              throw new Error(t);
            var e,
              n = "https://cdn.smooch.io/",
              r = "smooch";
            e = "string" == typeof this.response
              ? JSON.parse(this.response)
              : this.response;
            var o = f.match(/([0-9]+)\.?([0-9]+)?\.?([0-9]+)?/),
              s = o && o[1],
              i = o && o[2],
              a = o && o[3],
              p = e["v" + s],
              c = e["v" + s + "." + i + ".patch"];
            if (e.url || p || c) {
              var h = d.getElementsByTagName("script")[0],
                u = d.createElement("script");
              if (((u.async = !0), a)) 
                u.src = c || n + r + "." + f + ".min.js";
              else {
                if (!(5 <= s && p)) 
                  throw new Error(t);
                u.src = p;
              }
              h
                .parentNode
                .insertBefore(u, h);
            }
          } catch (e) {
            e.message === t && console.error(e);
          }
        }(o[s] = {
          init: function () {
            i = arguments;
            var t = {
                then: function (e) {
                  return h.push({type: "t", next: e}),
                  t;
                }, catch  : function (e) {
                  return h.push({type: "c", next: e}),
                  t;
                }
              };
            return t;
          },
          on: function () {
            c.push(arguments);
          },
          render: function () {
            a = arguments;
          },
          destroy: function () {
            p = arguments;
          }
        }), (o.__onWebMessengerHostReady__ = function (e) {
          if ((delete o.__onWebMessengerHostReady__, (o[s] = e), i)) 
            for (var t = e.init.apply(e, i), n = 0; n < h.length; n++) {
              var r = h[n];
              t = "t" === r.type
                ? t.then(r.next)
                : t.catch(r.next);
            }
          a && e
            .render
            .apply(e, a),
          p && e
            .destroy
            .apply(e, p);
          for (n = 0; n < c.length; n++) 
            e
              .on
              .apply(e, c[n]);
          }
        );
        var n = new XMLHttpRequest();
        n.addEventListener("load", t), n.open("GET", "https://" + e + ".webloader.smooch.io/", !0), (n.responseType = "json"), n.send();
      })(window, document, "Smooch", "668bd805d46b43ab81e18fe4", "5");
    </script>
  </head>



  <body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PB9JZX4G"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


    <script>
      !function(e,n,t,r){
          function o(){try{var e;if((e="string"==typeof this.response?JSON.parse(this.response):this.response).url){var t=n.getElementsByTagName("script")[0],r=n.createElement("script");r.async=!0,r.src=e.url,t.parentNode.insertBefore(r,t)}}catch(e){}}var s,p,a,i=[],c=[];e[t]={init:function(){s=arguments;var e={then:function(n){return c.push({type:"t",next:n}),e},catch:function(n){return c.push({type:"c",next:n}),e}};return e},on:function(){i.push(arguments)},render:function(){p=arguments},destroy:function(){a=arguments}},e.__onWebMessengerHostReady__=function(n){if(delete e.__onWebMessengerHostReady__,e[t]=n,s)for(var r=n.init.apply(n,s),o=0;o<c.length;o++){var u=c[o];r="t"===u.type?r.then(u.next):r.catch(u.next)}p&&n.render.apply(n,p),a&&n.destroy.apply(n,a);for(o=0;o<i.length;o++)n.on.apply(n,i[o])};var u=new XMLHttpRequest;u.addEventListener("load",o),u.open("GET","https://"+r+".webloader.smooch.io/",!0),u.responseType="json",u.send()
      }(window,document,"Smooch","668bd805d46b43ab81e18fe4");
  </script>


   <script>
    let userData = {};
  
    function initSmooch() {
      const removeFooterLogo = (iframe) => {
        if (!iframe) {
          iframe = document.querySelector("iframe#web-messenger-container");
        }
  
        if (iframe) {
          const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
          const container = iframeDocument.querySelector("#container");
          if (container) {
            const wrapper = container.querySelector("#wrapper");
            if (wrapper) {
              wrapper.style.width = "100%";
              wrapper.style.height = "calc(100vh - 20px)";
            }
          }
          const logoContainer = iframeDocument.querySelector(".logo");
          if (logoContainer) 
            logoContainer.style.display = "none";
          
          // This event triggers when the widget is opened
          Smooch.on('widget:opened', function () {
            console.log('Widget is opened!');
            iframe.classList.add("mobile-open-web-messenger-container");
          });
  
          // This event triggers when the widget is closed
          Smooch.on('widget:closed', function () {
            console.log('Widget is closed!');
            iframe.classList.remove("mobile-open-web-messenger-container");
          });
        }
      };
  
      const delegate = {
        beforeDisplay(message, data) {
          if (message.displayName === "Sol" || message.id === "66b20cf33a8bbabbc59bdb24") 
            message.avatarUrl = "https://s3.amazonaws.com/kommunicate-prod.s3/profile_pic/17199458040551719945804085-image204.png";
          
          removeFooterLogo();
          return message;
        }
      };
  
      Smooch
        .init({
          integrationId: "66b4c16a05de41f0900493e1",
          displayStyle: "button",
          canUserSeeConversationList: false,
          buttonIconUrl: "https://s3.amazonaws.com/kommunicate-prod.s3/profile_pic/17199458040551719945804085-image204.png",
          customColors: {
            brandColor: "3D1A4F",
            conversationColor: "80297d"
          },
          menuItems: {
            imageUpload: true,
            fileUpload: true,
            shareLocation: false
          },
          customText: {
            inputPlaceholder: "Escreva sua mensagem...",
            messageDelivered: "Enviada",
            messageRelativeTimeJustNow: "Agora",
            messageRelativeTimeMinute: "{value}m atrás",
            uploadPhoto: "Anexar imagem",
            uploadDocument: "Anexar arquivo",
          },
          businessName: "Sol",
          businessIconUrl: "https://s3.amazonaws.com/kommunicate-prod.s3/profile_pic/17199458040551719945804085-image204.png",
          delegate
        })
        .then(function (data) {
          Smooch.createConversation({
            metadata: {
              isFirstTimeCustomer: true,

            },
          }).then((conversation) => {
            console.log("Hello Sunshine");
          });
  
          removeFooterLogo();
        })
        .catch(function (err) {
          console.error("Erro na inicialização do Smooch:", err);
        });
    }
  
    document.addEventListener("DOMContentLoaded", initSmooch);
  </script>
  
  </body>
</html>
